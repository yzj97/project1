"use strict";require(["../scripts/config.js"],function(){require(["jquery","swiper","_cookie","_jcookie","_pubilc"],function(j,o,M){var t=document.querySelector(".nav-item1"),e=document.querySelector(".list");t.onmouseenter=function(){e.style.display="block"},t.onmouseleave=function(){e.style.display="none"};for(var s=document.querySelectorAll(".list-item-goods"),i=document.querySelectorAll(".hide-list"),n=function(o){s[o].onmouseenter=function(){i[o].style.display="block"},s[o].onmouseleave=function(){i[o].style.display="none"}},r=0;r<s.length;r++)n(r);j(".goods-img").hover(function(){j(".goods-img .mover").show(),j(".bigbox").show()},function(){j(".goods-img .mover").hide(),j(".bigbox").hide()});var c=j(".goods-img").height()/j(".goods-img .mover").height();j(".goods-img").on("mousemove",function(o){var t=o.pageX-j(this).offset().left-j(".goods-img .mover").width()/2,e=o.pageY-j(this).offset().top-j(".goods-img .mover").height()/2;j(".goods-img .mover").css({left:Math.min(Math.max(0,t),j(".goods-img").width()-j(".goods-img .mover").width()),top:Math.min(Math.max(0,e),j(".goods-img").height()-j(".goods-img .mover").height())}),j(".bigbox img").css({left:-j(".goods-img .mover").position().left*c,top:-j(".goods-img .mover").position().top*c})});new o(".swiper-container",{speed:2e3,pagination:{el:".swiper-pagination",clickable:!0,bulletActiveClass:"my-bullet-active",bulletClass:"my-bullet"}});j.ajax({type:"get",url:"https://localhost:8848/ajax/navbanner.json",success:function(t){j.each(j(".goodsnav-list-first-goods .goodsnav-item a img"),function(o){j(".goodsnav-list-first-goods .goodsnav-item a img").eq(o).attr("src",t[o].src)}),j.each(j(".goodsnav-list-first-goods .goodsnav-item a span"),function(o){j(".goodsnav-list-first-goods .goodsnav-item a span").eq(o).html(t[o].id)}),j.each(j(".goodsnav-list-first-goods .goodsnav-item a b"),function(o){j(".goodsnav-list-first-goods .goodsnav-item a b").eq(o).html(t[o].describe)}),j.each(j(".goodsnav-list-first-goods .goodsnav-item a em"),function(o){j(".goodsnav-list-first-goods .goodsnav-item a em").eq(o).html(t[o].price)})}}),j.ajax({type:"get",url:"https://localhost:8848/ajax/navbanner1.json",success:function(t){j.each(j(".goodsnav-list-second-goods .goodsnav-item a img"),function(o){j(".goodsnav-list-second-goods .goodsnav-item a img").eq(o).attr("src",t[o].src)}),j.each(j(".goodsnav-list-second-goods .goodsnav-item a span"),function(o){j(".goodsnav-list-second-goods .goodsnav-item a span").eq(o).html(t[o].id)}),j.each(j(".goodsnav-list-second-goods .goodsnav-item a b"),function(o){j(".goodsnav-list-second-goods .goodsnav-item a b").eq(o).html(t[o].describe)}),j.each(j(".goodsnav-list-second-goods .goodsnav-item a em"),function(o){j(".goodsnav-list-second-goods .goodsnav-item a em").eq(o).html(t[o].price)})}});var w=0;j.ajax({type:"get",url:"https://localhost:8848/ajax/goodslist.json",success:function(o){for(var t=document.querySelector(".txt-name"),e=document.querySelector(".txt-price"),s=document.querySelector(".detail-top"),i=(e=document.querySelector(".detail-price .price-big em"),document.querySelector(".goods-list")),n=document.querySelector(".detail-sel"),r=document.querySelectorAll(".goods-list li img"),c=document.querySelector(".goods-img"),l=document.querySelector(".bigbox"),a=document.cookie.split("; "),d=[],g=0;g<a.length;g++)d.push(a[g].split("=")[0]);for(var m=0;m<o.length;m++)for(var u=0;u<d.length;u++)o[m].id==d[u]&&(s.innerHTML=o[m].describe,t.innerHTML=o[m].describe,e.innerHTML=o[m].price,e.innerHTML=o[m].price,w=o[m].id,c.style.backgroundImage="url("+o[m].src+")",i.innerHTML='\n        \t    \t\t\t    <li><img src="'+o[m].src+'"></li>\n\t\t\t\t\t\t\t\t<li><img src="'+o[m].src+'"></li>\n\t\t\t\t\t\t\t\t<li><img src="'+o[m].src+'"></li>\n\t\t\t\t\t\t\t\t<li><img src="'+o[m].src+'"></li>\n        \t    \t\t\t\n        \t    \t\t\t',l.innerHTML='\n        \t    \t\t\t <img src="'+o[m].src+'">\n        \t    \t\t\t',n.innerHTML='\n        \t    \t\t\t    <span>已选择商品:<i></i></span>\n\t\t\t\t\t\t\t\t<img src="'+o[m].src+'">\n\t\t\t\t\t\t\t\t<img src="'+o[m].src+'">\n\t\t\t\t\t\t\t\t<img src="'+o[m].src+'">\n        \t    \t\t\t');M.setCookie(w,w,-1);for(var v=function(e){r[e].onclick=function(){for(var o=0;o<r.length;o++)r[o].parentElement.style.borderColor="#9D9D9D";r[e].parentElement.style.borderColor="red";var t=r[e].src;c.style.backgroundImage="url("+t+")",b.src=t}},f=0;f<r.length;f++)v(f);var h=document.querySelector(".detail-car .into-car"),p=document.querySelector(".hide-car"),y=Array.from(document.querySelectorAll(".detail-sel img")),b=document.querySelector(".bigbox img"),q=document.querySelector(".detail-sel span i"),S=(document.querySelector("#goods-detail"),document.querySelector("#prepare"),document.querySelector("#breadcrumbs"),document.querySelector(".succ-img"),1);h.onmouseenter=function(){1==S&&(p.style.display="block"),h.onmouseleave=function(){p.style.display="none"}};for(var x=function(e){y[e].onclick=function(){S=2,q.innerHTML="跑步机款式"+(e+1)+"号",c.style.backgroundImage="url("+this.src+")",b.src=this.src;for(var o=0;o<y.length;o++)y[o].style.border="1px solid #9D9D9D";this.style.border="1px solid #ff9700",y.forEach(function(o,t){o.onmouseenter=function(){o.style.border="1px solid #333333"},o.onmouseleave=function(){o.style.border=t==e?"1px solid #ff9700":"1px solid #9d9d9d"}}),j(".into-car").on("click",function(){console.log(123),j("#goods-detail").css("display","none"),j("#prepare").css("display","block"),j("#breadcrumbs").html(""),j(".succ-img").attr("src",j(".bigbox img").attr("src")),function(e){var s=JSON.parse(j.cookie("goods"))||[];if(s.length<1)s.push({id:e,num:1});else{var i=!0;j.each(s,function(o,t){t.id==e&&(s[o].num++,i=!1)}),i&&s.push({id:e,num:1})}j.cookie("goods",JSON.stringify(s))}(w)})}},k=0;k<y.length;k++)x(k)}})})});