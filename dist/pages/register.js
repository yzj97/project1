"use strict";var _createClass=function(){function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}require(["../scripts/config.js"],function(){require(["jquery","swiper","_jcookie"],function(t,e){t.auto_code=function(){for(var e="",t=0;t<60;t++){e=e+Math.round(9*Math.random())+String.fromCharCode(Math.round(-25*Math.random()+122))+String.fromCharCode(Math.round(-25*Math.random()+90))}for(var o="",r=0;r<4;r++)o+=e.charAt(Math.round(Math.random()*(e.length-1)));return o},t(".auth-code-txt").val(t.auto_code()),t(".auth-code-txt").click(function(){var e=t.auto_code();t(".auth-code-txt").val(e)});var r=document.querySelector(".txt"),n=document.querySelector(".pwd"),o=document.querySelector(".reg-input-top"),a=document.querySelector(".reg-input-bottom"),u=document.querySelector(".txtcuo"),s=document.querySelector(".pwdcuo"),l=/^1\d{10}$/;r.onblur=function(){l.test(r.value)||(o.style.borderColor="#FF6700",u.style.display="block")};var c=/^(?=.*[a-z])(?=.*\d)(?=.*[#@!~%^&*])[a-z\d#@!~%^&*]{8,16}$/;n.onblur=function(){c.test(n.value)||(a.style.borderColor="#FF6700",s.style.display="block")},r.onfocus=function(){u.style.display="none",o.style.borderColor="#E0E0E0"},n.onfocus=function(){s.style.display="none",a.style.borderColor="#E0E0E0"};var i=document.querySelector(".auth-code-txt"),d=document.querySelector(".auth-code-ipt .code"),h=document.querySelector(".yzcuo");d.onblur=function(){i.value!=d.value&&(d.style.borderColor="#FF6700",h.style.display="block")},d.onfocus=function(){d.style.borderColor="#E0E0E0",h.style.display="none"};var y=document.querySelector(".now"),m=document.querySelector(".succ"),f=document.querySelector(".reg"),v=document.querySelector(".no");y.onclick=function(){var e=JSON.parse(localStorage.getItem("username")),t=!0;""==r.value&&alert("请输入手机号！");for(var o=0;o<e.length;o++)r.value==e[o].user&&(t=!1),t&&c.test(n.value)&&l.test(r.value)&&i.value==d.value&&(f.style.display="none",m.style.display="block")},v.onclick=function(){f.style.display="block",m.style.display="none"},new(function(){function e(){_classCallCheck(this,e),this.btn=t(".now"),this.user=t(".txt"),this.pass=t(".pwd"),this.auth=t(".auth-code-txt"),this.code=t(".auth-code-ipt .code"),this.reg=/^1\d{10}$/,this.reg1=/^(?=.*[a-z])(?=.*\d)(?=.*[#@!~%^&*])[a-z\d#@!~%^&*]{8,16}$/,this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var e=this;this.btn.on("click",function(){""==e.user.val()||(e.userV=e.user.val(),e.passV=e.pass.val(),e.setitem())})}},{key:"setitem",value:function(){if(localStorage.getItem("username")?this.username=JSON.parse(localStorage.getItem("username")):this.username=[],this.username.length<1)this.username.push({user:this.userV,pass:this.passV,onoff:1});else{var o=this,r=!0;t.each(this.username,function(e,t){t.user==o.userV&&(alert("用户名重复"),r=!1)}),r&&this.reg1.test(this.pass.val())&&this.reg.test(this.user.val())&&this.auth.val()==this.code.val()&&this.username.push({user:this.userV,pass:this.passV})}localStorage.username=JSON.stringify(this.username)}}]),e}()),document.querySelector(".reg-link a").onclick=function(){var e=document.createElement("div");e.className="tanchukuang",e.innerHTML='未保存您的信息，是否跳转！\n\t\t\t <a class="tiaozhuan" href="login.html" target="_blank">是</a>\n\t\t\t <a class="butiaozhuan" href="#" target="_blank">否</a>\n\t\t\t',document.body.appendChild(e);var t=document.querySelector(".tanchukuang .tiaozhuan");t.onclick=function(){t.parentElement.remove()}}})});